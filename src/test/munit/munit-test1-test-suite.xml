<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:munit="http://www.mulesoft.org/schema/mule/munit" xmlns:munit-tools="http://www.mulesoft.org/schema/mule/munit-tools"
	xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xsi:schemaLocation="
		http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
		http://www.mulesoft.org/schema/mule/munit http://www.mulesoft.org/schema/mule/munit/current/mule-munit.xsd
		http://www.mulesoft.org/schema/mule/munit-tools  http://www.mulesoft.org/schema/mule/munit-tools/current/mule-munit-tools.xsd">
	<munit:config name="munit-test1-test-suite.xml" />
	<munit:test name="munit-test1-Other-SubflowTest" doc:id="138f245e-a0e2-4470-b2f0-713b26828ff0" description="Test">
		<munit:execution >
			<flow-ref doc:name="Flow-ref to Other-Subflow" doc:id="6b294880-4724-4797-bcd8-7892e9bc2039" name="Other-Subflow"/>
		</munit:execution>
		<munit:validation >
			<munit-tools:assert-equals doc:name="Assert equals" doc:id="c4fef30f-7ce6-4cf0-bd55-d9bdac77b433" actual="#[vars.Product]" expected="Other" message="It is not the expected value...."/>
		</munit:validation>
	</munit:test>
	<munit:test name="munit-test1-munit-SecondflowTest" doc:id="a43e751a-9a49-4f67-8361-cd8f2c70abd7" description="Test">
		<munit:behavior >
			<set-payload value='Dell' doc:name="Set Payload" doc:id="d58a4272-ab32-47a0-bad4-af1c40e5c9de" />
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to munit-Secondflow" doc:id="4fcc876b-fa48-4a66-bac0-85ef43db7abb" name="munit-Secondflow"/>
		</munit:execution>
		<munit:validation >
			<munit-tools:verify-call doc:name="Verify call" doc:id="91856cb4-a02b-4bee-8f34-859fa9f4cf5e" processor="flow-ref">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="Flow Reference" attributeName="doc:name" />
					<munit-tools:with-attribute whereValue="00c90271-6a46-4761-9aae-1286fedf9fb7" attributeName="doc:id" />
					<munit-tools:with-attribute whereValue="Dell-Sub-Flow" attributeName="name" />
				</munit-tools:with-attributes>
			</munit-tools:verify-call>
		</munit:validation>
	</munit:test>
	<munit:test name="munit-test1-munit-SecondflowTest-OthersSubflow" doc:id="a4f42ada-c39c-46ce-a040-6f44127f2c24" description="Test">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="4f214b97-e5b6-4405-9df8-4a92bc74e643" processor="set-payload">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue='#["Other"]' attributeName="value" />
					<munit-tools:with-attribute whereValue="Set Payload" attributeName="doc:name" />
					<munit-tools:with-attribute whereValue="43d00cbe-8e95-425e-8011-d171e41f49e8" attributeName="doc:id" />
				</munit-tools:with-attributes>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to munit-Secondflow" doc:id="1f6bfe2a-c60e-4f76-a3c1-49ff48db4924" name="munit-Secondflow"/>
		</munit:execution>
		<munit:validation >
			<munit-tools:verify-call doc:name="Verify call" doc:id="23e42d55-8eb5-469f-8a2b-a55ad9ac9941" processor="flow-ref">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="Flow Reference" attributeName="doc:name" />
					<munit-tools:with-attribute whereValue="579aec6d-66cf-4df4-8281-0691361983b0" attributeName="doc:id" />
					<munit-tools:with-attribute whereValue="Other-Subflow" attributeName="name" />
				</munit-tools:with-attributes>
			</munit-tools:verify-call>
		</munit:validation>
	</munit:test>


</mule>
